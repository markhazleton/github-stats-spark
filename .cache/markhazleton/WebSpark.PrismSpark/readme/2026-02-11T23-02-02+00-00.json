{
  "timestamp": "2026-02-15T00:50:42.061609+00:00",
  "value": "# PrismSpark\n\nA modern, high-performance C#/.NET port of [PrismJS](https://github.com/PrismJS/prism) for advanced syntax highlighting, theming, and extensibility.\n\n[![.NET](https://img.shields.io/badge/.NET-10.0-blue.svg)](https://dotnet.microsoft.com/download)\n[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)\n\n---\n\n## Features\n\n- **Tokenization & Highlighting** for 24 languages (C#, JavaScript, Python, Markdown, Pug, and more)\n- **Plugin System**: Line numbers, copy-to-clipboard, toolbar, and more\n- **Theme System**: Built-in and custom themes, CSS generation\n- **Hooks & Extensibility**: Event-driven customization\n- **Advanced Options**: Line highlighting, custom CSS classes, context/metadata\n- **Performance**: Async processing, caching, and efficient rendering\n- **.NET 10.0 LTS Support**: Fully compatible with the latest .NET Long Term Support release\n- **Comprehensive Test Suite**: 52 MSTest tests covering grammars, highlighting, tokenization, and integration\n\n---\n\n## Requirements\n\n- **.NET 10.0** or later (Long Term Support)\n- Compatible with .NET 9.0 and earlier versions\n\n---\n\n## Getting Started\n\n### Installation\n\n```pwsh\n# Install core library\nInstall-Package WebSpark.PrismSpark\n# Install HTML highlighting support\nInstall-Package PrismSpark.Highlighting.HTML\n```\n\n### Basic Usage\n\n```csharp\nusing WebSpark.PrismSpark;\nusing WebSpark.PrismSpark.Highlighting;\n\nvar code = @\"<p>Hello world!</p>\";\nvar grammar = LanguageGrammars.Html;\nvar highlighter = new HtmlHighlighter();\nvar html = highlighter.Highlight(code, grammar, \"html\");\n```\n\n---\n\n## .NET Web MVC Integration\n\n### Service Registration\n\n```csharp\n// Program.cs\nbuilder.Services.AddSingleton<IHighlighter, HtmlHighlighter>();\nbuilder.Services.AddSingleton<EnhancedHtmlHighlighter>();\nbuilder.Services.AddSingleton<ThemedHtmlHighlighter>();\n```\n\n### Controller Example\n\n```csharp\npublic class CodeController : Controller\n{\n    private readonly IHighlighter _highlighter;\n    public CodeController(IHighlighter highlighter) => _highlighter = highlighter;\n    public IActionResult Index()\n    {\n        var code = \"public class Hello { }\";\n        var html = _highlighter.Highlight(code, LanguageGrammars.CSharp, \"csharp\");\n        return View((object)html);\n    }\n}\n```\n\n### Razor View Example\n\n```html\n@model string\n<pre class=\"language-csharp line-numbers\"><code>@Html.Raw(Model)</code></pre>\n```\n\n---\n\n## Advanced Usage\n\n### Enhanced Highlighting\n\n```csharp\nvar options = new HighlightOptions\n{\n    ShowLineNumbers = true,\n    HighlightedLines = new[] { 2, 4 },\n    ClassPrefix = \"prism-\"\n};\nvar html = new EnhancedHtmlHighlighter().Highlight(code, LanguageGrammars.CSharp, \"csharp\", options);\n```\n\n### Themed Highlighting & CSS\n\n```csharp\nvar themed = new ThemedHtmlHighlighter(\"dark\");\nvar html = themed.Highlight(code, LanguageGrammars.Python, \"python\");\nvar css = CssGenerator.GenerateThemeCss(\"dark\");\n```\n\n### Plugin System\n\n```csharp\npublic class MyPlugin : IPlugin\n{\n    public void Process(HighlightContext ctx) { /* ... */ }\n}\nPluginManager.RegisterPlugin(new MyPlugin());\n```\n\n### Hooks\n\n```csharp\nHooks.Add(HookNames.AfterHighlight, args => { /* post-processing */ });\n```\n\n### Custom Theme\n\n```csharp\nvar theme = new Theme\n{\n    Name = \"my-theme\",\n    Background = new ThemeStyle { BackgroundColor = \"#222\" },\n    Foreground = new ThemeStyle { Color = \"#eee\" },\n    TokenStyles = new Dictionary<string, ThemeStyle>\n    {\n        [\"keyword\"] = new() { Color = \"#ff0\", FontWeight = \"bold\" },\n        [\"string\"] = new() { Color = \"#0f0\" }\n    }\n};\nThemeManager.RegisterTheme(theme);\n```\n\n---\n\n## Supported Languages (24 Grammars)\n\n| Language     | Aliases                              |\n|--------------|--------------------------------------|\n| C            | c                                    |\n| C-like       | clike                                |\n| C#           | csharp, cs, dotnet                   |\n| C++          | cpp, c++                             |\n| ASP.NET      | aspnet, aspx                         |\n| Razor        | cshtml, razor                        |\n| CIL          | cil                                  |\n| JavaScript   | javascript, js                       |\n| RegExp       | regexp, regex                        |\n| HTML/XML     | markup, html, xml, svg, mathml, atom, rss |\n| CSS          | css                                  |\n| SQL          | sql                                  |\n| JSON         | json, web-manifest                   |\n| Python       | python, py                           |\n| Java         | java                                 |\n| Bash         | bash, shell                          |\n| Batch        | batch, cmd                           |\n| PowerShell   | powershell, ps1                      |\n| YAML         | yaml, yml                            |\n| Go           | go                                   |\n| Rust         | rust                                 |\n| Lua          | lua                                  |\n| Pug          | pug                                  |\n| Markdown     | markdown, md                         |\n\n---\n\n## Interactive Demo Pages\n\nThe demo web application includes several interactive pages:\n\n- **Demo** - Server-side syntax highlighting showcase for multiple languages\n- **Live Editor** - Interactive code editor with real-time highlighting, validation, and formatting\n- **PUG Demo** - Side-by-side raw vs. highlighted PUG template code\n- **Markdown Demo** - Interactive markdown editor with PrismSpark syntax highlighting and Markdig HTML rendering\n\n---\n\n## Testing\n\nThe project includes a comprehensive MSTest test suite with 52 tests:\n\n- **GrammarTest** - Grammar creation, sorting, and token insertion\n- **HtmlHighlighterTest** - HTML entity and C language highlighting\n- **LanguageTokenizeTest** - Tokenization across multiple languages\n- **PrismTest** - Core Prism engine functionality\n- **IntegrationTests** - End-to-end highlighting workflows\n- **UtilTest** - Utility function validation\n\nRun the tests:\n\n```bash\ndotnet test\n```\n\n---\n\n## Performance & Best Practices\n\n- Use async APIs for large files\n- Enable caching for repeated highlights\n- Use plugin and theme systems for extensibility\n- For large code, paginate or lazy-load in the UI\n\n---\n\n## Troubleshooting\n\n- **Unknown Language**: Fallback to `LanguageGrammars.Markup`\n- **Performance**: Use async and caching\n- **Styling**: Use PrismJS CSS or generate with `CssGenerator`\n\n---\n\n## References\n\n- [PrismJS](https://github.com/PrismJS/prism)\n- [PrismSharp Languages](https://github.com/tatwd/prism-sharp/tree/main/WebSpark.PrismSpark/Languages)\n\n---\n\n## License\n\nMIT\n",
  "hash": "8dda0a596d1aba57111d43adb5446c4d6ed414e5b438135c0804954269b9c4aa",
  "metadata": {
    "repository": {
      "owner": "markhazleton",
      "name": "WebSpark.PrismSpark"
    },
    "category": "readme",
    "pushed_at": "2026-02-11T23:02:02+00:00",
    "ttl_enforced": false
  },
  "category": "readme",
  "owner": "markhazleton",
  "repo": "WebSpark.PrismSpark",
  "week": "2026-02-11T23-02-02+00-00"
}