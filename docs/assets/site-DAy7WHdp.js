import{r as e,j as s}from"./site-BiYgNJqb.js";import{u as a}from"./site-BSQ-rtDu.js";import"./site-DY8k1ES-.js";const i="RepositoryDetail-module__backdrop___FxBNc",l="RepositoryDetail-module__modal___ghp2H",t="RepositoryDetail-module__modalContent___biyl-",c="RepositoryDetail-module__modalHeader___jnv1v",r="RepositoryDetail-module__headerContent___T0tiY",d="RepositoryDetail-module__backButton___FnHvW",n="RepositoryDetail-module__modalTitle___B5ikT",o="RepositoryDetail-module__modalDescription___G0AML",_="RepositoryDetail-module__closeButton___OWomh",m="RepositoryDetail-module__modalBody___mL2TP",h="RepositoryDetail-module__statsBar___ZgXnz",x="RepositoryDetail-module__statItem___WWEOv",j="RepositoryDetail-module__statValue___6X84g",u="RepositoryDetail-module__statLabel___-HX57",p="RepositoryDetail-module__contentGrid___FMauv",N="RepositoryDetail-module__column___ngDkg",y="RepositoryDetail-module__section___ZmvFl",g="RepositoryDetail-module__sectionTitle___DmF-S",v="RepositoryDetail-module__collapsible___3fcFQ",k="RepositoryDetail-module__chevron___Gu8Qm",D="RepositoryDetail-module__sectionContent___qEm5t",R="RepositoryDetail-module__subsectionTitle___6n-I-",b="RepositoryDetail-module__detailList___uiBfB",f="RepositoryDetail-module__detailItem___AS-t7",C="RepositoryDetail-module__highlight___McrRA",w="RepositoryDetail-module__badge___M5iRV",F="RepositoryDetail-module__badgeGrid___tPlXC",L="RepositoryDetail-module__badgeSuccess___fk1L3",A="RepositoryDetail-module__badgeError___AY8Lf",$="RepositoryDetail-module__badgeWarning___7Wbkc",B="RepositoryDetail-module__badgeInfo___dVlzz",S="RepositoryDetail-module__badgeAi___-Q2qy",E="RepositoryDetail-module__badgeList___PpTlW",P="RepositoryDetail-module__languageList___SYUJJ",I="RepositoryDetail-module__languageItem___MUVdJ",T="RepositoryDetail-module__languageHeader___65cgF",W="RepositoryDetail-module__languageName___S3g4x",z="RepositoryDetail-module__languagePercent___Vmwja",G="RepositoryDetail-module__languageBar___tNf8A",K="RepositoryDetail-module__languageBarFill___grjZF",M="RepositoryDetail-module__techStackGrid___baOFs",V="RepositoryDetail-module__scoreBar___0Tu6V",q="RepositoryDetail-module__scoreBarFill___Qfr68",H="RepositoryDetail-module__scoreBarSuccess___dBho9",O="RepositoryDetail-module__scoreBarWarning___7JEoK",U="RepositoryDetail-module__scoreBarError___qmkGF",X="RepositoryDetail-module__summaryText___AFjR5",Q="RepositoryDetail-module__link___-s13o",Z="RepositoryDetail-module__textMuted___LrlKZ",J="RepositoryDetail-module__textWarning___AsVpp",Y="RepositoryDetail-module__modalFooter___tqR9j",ee="RepositoryDetail-module__navigationButtons___de-XV",se="RepositoryDetail-module__btnPrimary___FsF6G",ae="RepositoryDetail-module__btnSecondary___Wg8B6",ie="RepositoryDetail-module__screenshotContainer___6EXcK",le="RepositoryDetail-module__screenshotLink___--dpF",te="RepositoryDetail-module__screenshot___ntz77",ce="RepositoryDetail-module__screenshotOverlay___ZAq6W",re="RepositoryDetail-module__screenshotMeta___RTWGL";function de({repository:de,onClose:ne,onNext:oe,onPrevious:_e}){const me=e.useRef(null),[he,xe]=e.useState({summary:!0,website:!0,info:!0,commits:!1,languages:!1,tech:!1,quality:!1}),je=a({onDrag:({down:e,movement:[s,a],direction:[i,l],velocity:[t,c]})=>{!e&&l>0&&c>.3&&a>50?ne():!e&&i>0&&t>.5&&s>100&&_e?_e():!e&&i<0&&t>.5&&s<-100&&oe&&oe()}}),ue=e=>{xe(s=>({...s,[e]:!s[e]}))};e.useEffect(()=>{const e=e=>{"Escape"===e.key?ne():"ArrowRight"===e.key&&oe?oe():"ArrowLeft"===e.key&&_e&&_e()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[ne,oe,_e]);const pe=e=>{if(!e)return"N/A";try{const s=new Date(e);return isNaN(s.getTime())?"N/A":s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},Ne=e=>null==e||isNaN(e)?"N/A":e.toLocaleString(),ye=e=>null==e||isNaN(e)?"N/A":parseFloat(e).toFixed(1),ge=e=>{if(!de.language_stats)return 0;const s=Object.values(de.language_stats).reduce((e,s)=>e+s,0);return s>0?(e/s*100).toFixed(1):0};return s.jsx("div",{className:i,onClick:ne,children:s.jsx("div",{ref:me,...je(),className:l,onClick:e=>e.stopPropagation(),children:s.jsxs("div",{className:t,children:[s.jsxs("div",{className:c,children:[ne&&s.jsx("button",{className:d,onClick:ne,"aria-label":"Back to list",children:"‚Üê Back"}),s.jsxs("div",{className:r,children:[s.jsx("h2",{className:n,children:de.name}),de.description&&s.jsx("p",{className:o,children:de.description})]}),s.jsx("button",{className:_,onClick:ne,"aria-label":"Close",children:"√ó"})]}),s.jsxs("div",{className:m,children:[s.jsxs("div",{className:h,children:[s.jsxs("div",{className:x,children:[s.jsxs("span",{className:j,children:["‚≠ê ",Ne(de.stars)]}),s.jsx("span",{className:u,children:"Stars"})]}),s.jsxs("div",{className:x,children:[s.jsxs("span",{className:j,children:["üîÄ ",Ne(de.forks)]}),s.jsx("span",{className:u,children:"Forks"})]}),s.jsxs("div",{className:x,children:[s.jsxs("span",{className:j,children:["üëÅÔ∏è ",Ne(de.watchers)]}),s.jsx("span",{className:u,children:"Watchers"})]}),s.jsxs("div",{className:x,children:[s.jsxs("span",{className:j,children:["üêõ ",Ne(de.open_issues)]}),s.jsx("span",{className:u,children:"Issues"})]}),de.rank&&s.jsxs("div",{className:x,children:[s.jsxs("span",{className:j,children:["üèÜ #",de.rank]}),s.jsx("span",{className:u,children:"Rank"})]})]}),de.summary&&s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("summary"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("summary"))},"aria-expanded":he.summary,children:[s.jsx("span",{children:"Summary"}),de.summary.ai_generated&&s.jsx("span",{className:S,children:"‚ú® AI Generated"}),s.jsx("span",{className:k,children:he.summary?"‚ñ≤":"‚ñº"})]}),he.summary&&s.jsxs("div",{className:D,children:[s.jsx("p",{className:X,children:de.summary.text}),de.summary.model_used&&s.jsxs("div",{className:Z,children:["Generated by ",de.summary.model_used,de.summary.confidence_score&&s.jsxs(s.Fragment,{children:[" ","‚Ä¢ Confidence: ",de.summary.confidence_score,"%"]})]})]})]}),de.screenshot&&s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("website"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("website"))},"aria-expanded":he.website,children:[s.jsx("span",{children:"üåê Website Preview"}),s.jsx("span",{className:k,children:he.website?"‚ñ≤":"‚ñº"})]}),he.website&&s.jsxs("div",{className:D,children:[s.jsx("div",{className:ie,children:s.jsxs("a",{href:de.website_url||de.screenshot.url,target:"_blank",rel:"noopener noreferrer",className:le,children:[s.jsx("img",{src:(e=>{if(!e)return null;return`/github-stats-spark/${e.replace(/\\/g,"/")}`})(de.screenshot.path),alt:`Screenshot of ${de.name} website`,className:te,loading:"lazy"}),s.jsx("div",{className:ce,children:s.jsx("span",{children:"Visit Website ‚Üí"})})]})}),s.jsx("div",{className:re,children:s.jsxs("span",{className:Z,children:["Captured ",pe(de.screenshot.captured_at),de.screenshot.file_size_kb&&s.jsxs(s.Fragment,{children:[" ","‚Ä¢ ",de.screenshot.file_size_kb.toFixed(1)," KB"]})]})})]})]}),s.jsxs("div",{className:p,children:[s.jsxs("div",{className:N,children:[s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("info"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("info"))},"aria-expanded":he.info,children:[s.jsx("span",{children:"Repository Info"}),s.jsx("span",{className:k,children:he.info?"‚ñ≤":"‚ñº"})]}),he.info&&s.jsxs("dl",{className:b,children:[s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Language"}),s.jsx("dd",{children:s.jsx("span",{className:w,children:de.language||"Unknown"})})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Created"}),s.jsx("dd",{children:pe(de.created_at)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last Updated"}),s.jsx("dd",{children:pe(de.updated_at)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last Push"}),s.jsxs("dd",{children:[pe(de.pushed_at),null!=de.days_since_last_push&&s.jsxs("span",{className:Z,children:[" ","(",(ve=de.days_since_last_push,null==ve?"N/A":0===ve?"Today":1===ve?"Yesterday":ve<30?`${ve} days ago`:ve<365?`${Math.floor(ve/30)} months ago`:`${Math.floor(ve/365)} years ago`),")"]})]})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Age"}),s.jsx("dd",{children:de.age_days?`${de.age_days} days`:"N/A"})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Size"}),s.jsx("dd",{children:de.size_kb?`${Ne(de.size_kb)} KB`:"N/A"})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Repository URL"}),s.jsx("dd",{children:s.jsx("a",{href:de.url,target:"_blank",rel:"noopener noreferrer",className:Q,children:"View on GitHub ‚Üí"})})]}),de.website_url&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Website"}),s.jsx("dd",{children:s.jsxs("a",{href:de.website_url,target:"_blank",rel:"noopener noreferrer",className:Q,children:[de.homepage?"üåê Homepage":"üìÑ GitHub Pages"," ","‚Üí"]})})]}),de.has_pages&&!de.homepage&&de.pages_url&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"GitHub Pages"}),s.jsx("dd",{children:s.jsx("a",{href:de.pages_url,target:"_blank",rel:"noopener noreferrer",className:Q,children:"üìÑ View Site ‚Üí"})})]})]})]}),s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("quality"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("quality"))},"aria-expanded":he.quality,children:[s.jsx("span",{children:"Quality Indicators"}),s.jsx("span",{className:k,children:he.quality?"‚ñ≤":"‚ñº"})]}),he.quality&&s.jsxs("div",{className:F,children:[s.jsxs("span",{className:de.has_readme?L:A,children:[de.has_readme?"‚úì":"‚úó"," README"]}),s.jsxs("span",{className:de.has_license?L:A,children:[de.has_license?"‚úì":"‚úó"," License"]}),s.jsxs("span",{className:de.has_ci_cd?L:A,children:[de.has_ci_cd?"‚úì":"‚úó"," CI/CD"]}),s.jsxs("span",{className:de.has_tests?L:A,children:[de.has_tests?"‚úì":"‚úó"," Tests"]}),s.jsxs("span",{className:de.has_docs?L:A,children:[de.has_docs?"‚úì":"‚úó"," Docs"]}),de.is_archived&&s.jsx("span",{className:$,children:"üì¶ Archived"}),de.is_fork&&s.jsx("span",{className:B,children:"üîÄ Fork"})]})]}),de.language_stats&&Object.keys(de.language_stats).length>0&&s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("languages"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("languages"))},"aria-expanded":he.languages,children:[s.jsxs("span",{children:["Languages (",de.language_count,")"]}),s.jsx("span",{className:k,children:he.languages?"‚ñ≤":"‚ñº"})]}),he.languages&&s.jsx("div",{className:P,children:Object.entries(de.language_stats).sort(([,e],[,s])=>s-e).slice(0,10).map(([e,a])=>s.jsxs("div",{className:I,children:[s.jsxs("div",{className:T,children:[s.jsx("span",{className:W,children:e}),s.jsxs("span",{className:z,children:[ge(a),"%"]})]}),s.jsx("div",{className:G,children:s.jsx("div",{className:K,style:{width:`${ge(a)}%`}})})]},e))})]})]}),s.jsxs("div",{className:N,children:[de.commit_history&&s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("commits"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("commits"))},"aria-expanded":he.commits,children:[s.jsx("span",{children:"Commit Activity"}),s.jsx("span",{className:k,children:he.commits?"‚ñ≤":"‚ñº"})]}),he.commits&&s.jsxs("dl",{className:b,children:[s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Total Commits"}),s.jsx("dd",{className:C,children:Ne(de.commit_history.total_commits)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last 90 Days"}),s.jsx("dd",{children:Ne(de.commit_history.recent_90d)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last 180 Days"}),s.jsx("dd",{children:Ne(de.commit_history.recent_180d)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last 365 Days"}),s.jsx("dd",{children:Ne(de.commit_history.recent_365d)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"First Commit"}),s.jsx("dd",{children:pe(de.commit_history.first_commit_date)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Last Commit"}),s.jsx("dd",{children:pe(de.commit_history.last_commit_date)})]}),null!=de.commit_velocity&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Commit Velocity"}),s.jsxs("dd",{children:[ye(de.commit_velocity)," ","commits/month"]})]})]})]}),s.jsxs("section",{className:y,children:[s.jsx("h3",{className:g,children:"Commit Metrics"}),s.jsxs("dl",{className:b,children:[s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Average Commit Size"}),s.jsx("dd",{children:ye(de.commit_metrics?.avg_size||de.avg_commit_size)})]}),(de.commit_metrics?.largest_commit||de.largest_commit)&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Largest Commit"}),s.jsxs("dd",{children:[ye((de.commit_metrics?.largest_commit||de.largest_commit).size),s.jsxs("div",{className:Z,children:[(de.commit_metrics?.largest_commit||de.largest_commit).sha?.substring(0,7)," ","‚Ä¢"," ",pe((de.commit_metrics?.largest_commit||de.largest_commit).date)]}),s.jsxs("div",{className:Z,children:[Ne((de.commit_metrics?.largest_commit||de.largest_commit).files_changed)," ","files ‚Ä¢ +",Ne((de.commit_metrics?.largest_commit||de.largest_commit).lines_added)," ","/ -",Ne((de.commit_metrics?.largest_commit||de.largest_commit).lines_deleted)]})]})]}),(de.commit_metrics?.smallest_commit||de.smallest_commit)&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Smallest Commit"}),s.jsxs("dd",{children:[ye((de.commit_metrics?.smallest_commit||de.smallest_commit).size),s.jsxs("div",{className:Z,children:[(de.commit_metrics?.smallest_commit||de.smallest_commit).sha?.substring(0,7)," ","‚Ä¢"," ",pe((de.commit_metrics?.smallest_commit||de.smallest_commit).date)]})]})]})]})]}),s.jsxs("section",{className:y,children:[s.jsx("h3",{className:g,children:"Activity Metrics"}),s.jsxs("dl",{className:b,children:[null!=de.contributors_count&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Contributors"}),s.jsx("dd",{children:Ne(de.contributors_count)})]}),null!=de.release_count&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Releases"}),s.jsx("dd",{children:Ne(de.release_count)})]}),de.latest_release_date&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Latest Release"}),s.jsx("dd",{children:pe(de.latest_release_date)})]})]})]}),null!=de.composite_score&&s.jsxs("section",{className:y,children:[s.jsx("h3",{className:g,children:"Ranking"}),s.jsxs("dl",{className:b,children:[de.rank&&s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Rank"}),s.jsxs("dd",{className:C,children:["#",de.rank]})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Composite Score"}),s.jsx("dd",{children:de.composite_score.toFixed(2)})]})]})]})]})]}),de.tech_stack&&s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ue("tech"),role:"button",tabIndex:0,onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ue("tech"))},"aria-expanded":he.tech,children:[s.jsx("span",{children:"Technology Stack"}),s.jsx("span",{className:k,children:he.tech?"‚ñ≤":"‚ñº"})]}),he.tech&&s.jsxs("div",{className:M,children:[de.tech_stack.frameworks&&de.tech_stack.frameworks.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:R,children:"Frameworks"}),s.jsx("div",{className:E,children:de.tech_stack.frameworks.map(e=>s.jsx("span",{className:w,children:e},e))})]}),de.tech_stack.total_dependencies>0&&s.jsxs("div",{children:[s.jsx("h4",{className:R,children:"Dependencies"}),s.jsxs("dl",{className:b,children:[s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Total"}),s.jsx("dd",{children:Ne(de.tech_stack.total_dependencies)})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Outdated"}),s.jsxs("dd",{className:de.tech_stack.outdated_count>0?J:"",children:[Ne(de.tech_stack.outdated_count),"(",de.tech_stack.outdated_percentage,"%)"]})]}),s.jsxs("div",{className:f,children:[s.jsx("dt",{children:"Currency Score"}),s.jsxs("dd",{children:[s.jsx("div",{className:V,children:s.jsx("div",{className:`${q} ${de.tech_stack.currency_score>=80?H:de.tech_stack.currency_score>=60?O:U}`,style:{width:`${de.tech_stack.currency_score}%`}})}),s.jsxs("span",{children:[de.tech_stack.currency_score,"/100"]})]})]})]})]})]})]})]}),s.jsxs("div",{className:Y,children:[s.jsxs("div",{className:ee,children:[_e&&s.jsx("button",{className:ae,onClick:_e,children:"‚Üê Previous"}),oe&&s.jsx("button",{className:ae,onClick:oe,children:"Next ‚Üí"})]}),s.jsx("button",{className:se,onClick:ne,children:"Close"})]})]})})});var ve}export{de as default};
