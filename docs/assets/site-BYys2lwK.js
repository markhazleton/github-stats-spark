import{r as s,j as e}from"./site-DnIXTUhv.js";import{u as a}from"./site-BnWj2Vcj.js";import"./site-Dp0kJvEn.js";const i="RepositoryDetail-module__backdrop___FxBNc",l="RepositoryDetail-module__modal___ghp2H",t="RepositoryDetail-module__modalContent___biyl-",c="RepositoryDetail-module__modalHeader___jnv1v",d="RepositoryDetail-module__headerContent___T0tiY",r="RepositoryDetail-module__backButton___FnHvW",n="RepositoryDetail-module__modalTitle___B5ikT",o="RepositoryDetail-module__modalDescription___G0AML",m="RepositoryDetail-module__closeButton___OWomh",_="RepositoryDetail-module__modalBody___mL2TP",h="RepositoryDetail-module__statsBar___ZgXnz",x="RepositoryDetail-module__statItem___WWEOv",j="RepositoryDetail-module__statValue___6X84g",u="RepositoryDetail-module__statLabel___-HX57",y="RepositoryDetail-module__contentGrid___FMauv",N="RepositoryDetail-module__column___ngDkg",p="RepositoryDetail-module__section___ZmvFl",g="RepositoryDetail-module__sectionTitle___DmF-S",v="RepositoryDetail-module__collapsible___3fcFQ",k="RepositoryDetail-module__chevron___Gu8Qm",D="RepositoryDetail-module__sectionContent___qEm5t",R="RepositoryDetail-module__subsectionTitle___6n-I-",b="RepositoryDetail-module__detailList___uiBfB",f="RepositoryDetail-module__detailItem___AS-t7",C="RepositoryDetail-module__highlight___McrRA",L="RepositoryDetail-module__badge___M5iRV",A="RepositoryDetail-module__badgeGrid___tPlXC",F="RepositoryDetail-module__badgeSuccess___fk1L3",B="RepositoryDetail-module__badgeError___AY8Lf",$="RepositoryDetail-module__badgeWarning___7Wbkc",S="RepositoryDetail-module__badgeInfo___dVlzz",E="RepositoryDetail-module__badgeAi___-Q2qy",w="RepositoryDetail-module__badgeList___PpTlW",I="RepositoryDetail-module__languageList___SYUJJ",P="RepositoryDetail-module__languageItem___MUVdJ",T="RepositoryDetail-module__languageHeader___65cgF",z="RepositoryDetail-module__languageName___S3g4x",M="RepositoryDetail-module__languagePercent___Vmwja",W="RepositoryDetail-module__languageBar___tNf8A",q="RepositoryDetail-module__languageBarFill___grjZF",G="RepositoryDetail-module__techStackGrid___baOFs",V="RepositoryDetail-module__scoreBar___0Tu6V",K="RepositoryDetail-module__scoreBarFill___Qfr68",O="RepositoryDetail-module__scoreBarSuccess___dBho9",H="RepositoryDetail-module__scoreBarWarning___7JEoK",U="RepositoryDetail-module__scoreBarError___qmkGF",Q="RepositoryDetail-module__summaryText___AFjR5",X="RepositoryDetail-module__link___-s13o",J="RepositoryDetail-module__textMuted___LrlKZ",Y="RepositoryDetail-module__textWarning___AsVpp",Z="RepositoryDetail-module__modalFooter___tqR9j",ss="RepositoryDetail-module__navigationButtons___de-XV",es="RepositoryDetail-module__btnPrimary___FsF6G",as="RepositoryDetail-module__btnSecondary___Wg8B6";function is({repository:is,onClose:ls,onNext:ts,onPrevious:cs}){const ds=s.useRef(null),[rs,ns]=s.useState({summary:!0,info:!0,commits:!1,languages:!1,tech:!1,quality:!1}),os=a({onDrag:({down:s,movement:[e,a],direction:[i,l],velocity:[t,c]})=>{!s&&l>0&&c>.3&&a>50?ls():!s&&i>0&&t>.5&&e>100&&cs?cs():!s&&i<0&&t>.5&&e<-100&&ts&&ts()}}),ms=s=>{ns(e=>({...e,[s]:!e[s]}))};s.useEffect(()=>{const s=s=>{"Escape"===s.key?ls():"ArrowRight"===s.key&&ts?ts():"ArrowLeft"===s.key&&cs&&cs()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[ls,ts,cs]);const _s=s=>{if(!s)return"N/A";try{const e=new Date(s);return isNaN(e.getTime())?"N/A":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},hs=s=>null==s||isNaN(s)?"N/A":s.toLocaleString(),xs=s=>null==s||isNaN(s)?"N/A":parseFloat(s).toFixed(1),js=s=>{if(!is.language_stats)return 0;const e=Object.values(is.language_stats).reduce((s,e)=>s+e,0);return e>0?(s/e*100).toFixed(1):0};return e.jsx("div",{className:i,onClick:ls,children:e.jsx("div",{ref:ds,...os(),className:l,onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:t,children:[e.jsxs("div",{className:c,children:[ls&&e.jsx("button",{className:r,onClick:ls,"aria-label":"Back to list",children:"‚Üê Back"}),e.jsxs("div",{className:d,children:[e.jsx("h2",{className:n,children:is.name}),is.description&&e.jsx("p",{className:o,children:is.description})]}),e.jsx("button",{className:m,onClick:ls,"aria-label":"Close",children:"√ó"})]}),e.jsxs("div",{className:_,children:[e.jsxs("div",{className:h,children:[e.jsxs("div",{className:x,children:[e.jsxs("span",{className:j,children:["‚≠ê ",hs(is.stars)]}),e.jsx("span",{className:u,children:"Stars"})]}),e.jsxs("div",{className:x,children:[e.jsxs("span",{className:j,children:["üîÄ ",hs(is.forks)]}),e.jsx("span",{className:u,children:"Forks"})]}),e.jsxs("div",{className:x,children:[e.jsxs("span",{className:j,children:["üëÅÔ∏è ",hs(is.watchers)]}),e.jsx("span",{className:u,children:"Watchers"})]}),e.jsxs("div",{className:x,children:[e.jsxs("span",{className:j,children:["üêõ ",hs(is.open_issues)]}),e.jsx("span",{className:u,children:"Issues"})]}),is.rank&&e.jsxs("div",{className:x,children:[e.jsxs("span",{className:j,children:["üèÜ #",is.rank]}),e.jsx("span",{className:u,children:"Rank"})]})]}),is.summary&&e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("summary"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("summary"))},"aria-expanded":rs.summary,children:[e.jsx("span",{children:"Summary"}),is.summary.ai_generated&&e.jsx("span",{className:E,children:"‚ú® AI Generated"}),e.jsx("span",{className:k,children:rs.summary?"‚ñ≤":"‚ñº"})]}),rs.summary&&e.jsxs("div",{className:D,children:[e.jsx("p",{className:Q,children:is.summary.text}),is.summary.model_used&&e.jsxs("div",{className:J,children:["Generated by ",is.summary.model_used,is.summary.confidence_score&&e.jsxs(e.Fragment,{children:[" ","‚Ä¢ Confidence: ",is.summary.confidence_score,"%"]})]})]})]}),e.jsxs("div",{className:y,children:[e.jsxs("div",{className:N,children:[e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("info"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("info"))},"aria-expanded":rs.info,children:[e.jsx("span",{children:"Repository Info"}),e.jsx("span",{className:k,children:rs.info?"‚ñ≤":"‚ñº"})]}),rs.info&&e.jsxs("dl",{className:b,children:[e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Language"}),e.jsx("dd",{children:e.jsx("span",{className:L,children:is.language||"Unknown"})})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Created"}),e.jsx("dd",{children:_s(is.created_at)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last Updated"}),e.jsx("dd",{children:_s(is.updated_at)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last Push"}),e.jsxs("dd",{children:[_s(is.pushed_at),null!=is.days_since_last_push&&e.jsxs("span",{className:J,children:[" ","(",(us=is.days_since_last_push,null==us?"N/A":0===us?"Today":1===us?"Yesterday":us<30?`${us} days ago`:us<365?`${Math.floor(us/30)} months ago`:`${Math.floor(us/365)} years ago`),")"]})]})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Age"}),e.jsx("dd",{children:is.age_days?`${is.age_days} days`:"N/A"})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Size"}),e.jsx("dd",{children:is.size_kb?`${hs(is.size_kb)} KB`:"N/A"})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Repository URL"}),e.jsx("dd",{children:e.jsx("a",{href:is.url,target:"_blank",rel:"noopener noreferrer",className:X,children:"View on GitHub ‚Üí"})})]})]})]}),e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("quality"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("quality"))},"aria-expanded":rs.quality,children:[e.jsx("span",{children:"Quality Indicators"}),e.jsx("span",{className:k,children:rs.quality?"‚ñ≤":"‚ñº"})]}),rs.quality&&e.jsxs("div",{className:A,children:[e.jsxs("span",{className:is.has_readme?F:B,children:[is.has_readme?"‚úì":"‚úó"," README"]}),e.jsxs("span",{className:is.has_license?F:B,children:[is.has_license?"‚úì":"‚úó"," License"]}),e.jsxs("span",{className:is.has_ci_cd?F:B,children:[is.has_ci_cd?"‚úì":"‚úó"," CI/CD"]}),e.jsxs("span",{className:is.has_tests?F:B,children:[is.has_tests?"‚úì":"‚úó"," Tests"]}),e.jsxs("span",{className:is.has_docs?F:B,children:[is.has_docs?"‚úì":"‚úó"," Docs"]}),is.is_archived&&e.jsx("span",{className:$,children:"üì¶ Archived"}),is.is_fork&&e.jsx("span",{className:S,children:"üîÄ Fork"})]})]}),is.language_stats&&Object.keys(is.language_stats).length>0&&e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("languages"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("languages"))},"aria-expanded":rs.languages,children:[e.jsxs("span",{children:["Languages (",is.language_count,")"]}),e.jsx("span",{className:k,children:rs.languages?"‚ñ≤":"‚ñº"})]}),rs.languages&&e.jsx("div",{className:I,children:Object.entries(is.language_stats).sort(([,s],[,e])=>e-s).slice(0,10).map(([s,a])=>e.jsxs("div",{className:P,children:[e.jsxs("div",{className:T,children:[e.jsx("span",{className:z,children:s}),e.jsxs("span",{className:M,children:[js(a),"%"]})]}),e.jsx("div",{className:W,children:e.jsx("div",{className:q,style:{width:`${js(a)}%`}})})]},s))})]})]}),e.jsxs("div",{className:N,children:[is.commit_history&&e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("commits"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("commits"))},"aria-expanded":rs.commits,children:[e.jsx("span",{children:"Commit Activity"}),e.jsx("span",{className:k,children:rs.commits?"‚ñ≤":"‚ñº"})]}),rs.commits&&e.jsxs("dl",{className:b,children:[e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Total Commits"}),e.jsx("dd",{className:C,children:hs(is.commit_history.total_commits)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last 90 Days"}),e.jsx("dd",{children:hs(is.commit_history.recent_90d)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last 180 Days"}),e.jsx("dd",{children:hs(is.commit_history.recent_180d)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last 365 Days"}),e.jsx("dd",{children:hs(is.commit_history.recent_365d)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"First Commit"}),e.jsx("dd",{children:_s(is.commit_history.first_commit_date)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Last Commit"}),e.jsx("dd",{children:_s(is.commit_history.last_commit_date)})]}),null!=is.commit_velocity&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Commit Velocity"}),e.jsxs("dd",{children:[xs(is.commit_velocity)," ","commits/month"]})]})]})]}),e.jsxs("section",{className:p,children:[e.jsx("h3",{className:g,children:"Commit Metrics"}),e.jsxs("dl",{className:b,children:[e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Average Commit Size"}),e.jsx("dd",{children:xs(is.commit_metrics?.avg_size||is.avg_commit_size)})]}),(is.commit_metrics?.largest_commit||is.largest_commit)&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Largest Commit"}),e.jsxs("dd",{children:[xs((is.commit_metrics?.largest_commit||is.largest_commit).size),e.jsxs("div",{className:J,children:[(is.commit_metrics?.largest_commit||is.largest_commit).sha?.substring(0,7)," ","‚Ä¢"," ",_s((is.commit_metrics?.largest_commit||is.largest_commit).date)]}),e.jsxs("div",{className:J,children:[hs((is.commit_metrics?.largest_commit||is.largest_commit).files_changed)," ","files ‚Ä¢ +",hs((is.commit_metrics?.largest_commit||is.largest_commit).lines_added)," ","/ -",hs((is.commit_metrics?.largest_commit||is.largest_commit).lines_deleted)]})]})]}),(is.commit_metrics?.smallest_commit||is.smallest_commit)&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Smallest Commit"}),e.jsxs("dd",{children:[xs((is.commit_metrics?.smallest_commit||is.smallest_commit).size),e.jsxs("div",{className:J,children:[(is.commit_metrics?.smallest_commit||is.smallest_commit).sha?.substring(0,7)," ","‚Ä¢"," ",_s((is.commit_metrics?.smallest_commit||is.smallest_commit).date)]})]})]})]})]}),e.jsxs("section",{className:p,children:[e.jsx("h3",{className:g,children:"Activity Metrics"}),e.jsxs("dl",{className:b,children:[null!=is.contributors_count&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Contributors"}),e.jsx("dd",{children:hs(is.contributors_count)})]}),null!=is.release_count&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Releases"}),e.jsx("dd",{children:hs(is.release_count)})]}),is.latest_release_date&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Latest Release"}),e.jsx("dd",{children:_s(is.latest_release_date)})]})]})]}),null!=is.composite_score&&e.jsxs("section",{className:p,children:[e.jsx("h3",{className:g,children:"Ranking"}),e.jsxs("dl",{className:b,children:[is.rank&&e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Rank"}),e.jsxs("dd",{className:C,children:["#",is.rank]})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Composite Score"}),e.jsx("dd",{children:is.composite_score.toFixed(2)})]})]})]})]})]}),is.tech_stack&&e.jsxs("section",{className:p,children:[e.jsxs("h3",{className:`${g} ${v}`,onClick:()=>ms("tech"),role:"button",tabIndex:0,onKeyPress:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),ms("tech"))},"aria-expanded":rs.tech,children:[e.jsx("span",{children:"Technology Stack"}),e.jsx("span",{className:k,children:rs.tech?"‚ñ≤":"‚ñº"})]}),rs.tech&&e.jsxs("div",{className:G,children:[is.tech_stack.frameworks&&is.tech_stack.frameworks.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:R,children:"Frameworks"}),e.jsx("div",{className:w,children:is.tech_stack.frameworks.map(s=>e.jsx("span",{className:L,children:s},s))})]}),is.tech_stack.total_dependencies>0&&e.jsxs("div",{children:[e.jsx("h4",{className:R,children:"Dependencies"}),e.jsxs("dl",{className:b,children:[e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Total"}),e.jsx("dd",{children:hs(is.tech_stack.total_dependencies)})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Outdated"}),e.jsxs("dd",{className:is.tech_stack.outdated_count>0?Y:"",children:[hs(is.tech_stack.outdated_count),"(",is.tech_stack.outdated_percentage,"%)"]})]}),e.jsxs("div",{className:f,children:[e.jsx("dt",{children:"Currency Score"}),e.jsxs("dd",{children:[e.jsx("div",{className:V,children:e.jsx("div",{className:`${K} ${is.tech_stack.currency_score>=80?O:is.tech_stack.currency_score>=60?H:U}`,style:{width:`${is.tech_stack.currency_score}%`}})}),e.jsxs("span",{children:[is.tech_stack.currency_score,"/100"]})]})]})]})]})]})]})]}),e.jsxs("div",{className:Z,children:[e.jsxs("div",{className:ss,children:[cs&&e.jsx("button",{className:as,onClick:cs,children:"‚Üê Previous"}),ts&&e.jsx("button",{className:as,onClick:ts,children:"Next ‚Üí"})]}),e.jsx("button",{className:es,onClick:ls,children:"Close"})]})]})})});var us}export{is as default};
