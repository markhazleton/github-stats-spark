import{j as a}from"./site-DnIXTUhv.js";import{P as e}from"./site-BnWj2Vcj.js";import{C as t}from"./site-mEh8T1x7.js";import"./site-Dp0kJvEn.js";const i=["#0366d6","#28a745","#6f42c1","#fd8c73","#ffd33d","#ea4a5a","#1b7cd3","#79589f","#f97583","#ffdf5d"];function n(a,e){return a||0===a?e?.includes("Date")?new Date(a).toLocaleDateString():e?.includes("Size")?`${a.toLocaleString()} changes`:"number"==typeof a?a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toLocaleString():a:"N/A"}function o({data:e,metricLabel:o="Value",onBarClick:s,horizontal:r=!1,maxBars:l=10}){if(!e||0===e.length)return a.jsx(t,{type:"bar",data:{labels:[],datasets:[]},emptyMessage:"No data available for visualization"});const d=e.slice(0,l),c={labels:d.map(a=>a.name||a.label),datasets:[{label:o,data:d.map(a=>a.value),backgroundColor:d.map((a,e)=>i[e%i.length]),borderColor:d.map((a,e)=>i[e%i.length]),borderWidth:0,borderRadius:4,barThickness:r?24:"flex",maxBarThickness:r?32:60}]},g={indexAxis:r?"y":"x",responsive:!0,maintainAspectRatio:!1,interaction:{mode:"nearest",intersect:!1,axis:r?"y":"x"},onClick:(a,e)=>{if(e.length>0&&s){const a=e[0].index,t=d[a];s({...t,fullData:t})}},plugins:{legend:{display:!1},tooltip:{enabled:!0,padding:12,titleFont:{size:14},bodyFont:{size:14},callbacks:{label:a=>{const e=a.parsed.y||a.parsed.x;return`${o}: ${n(e,o)}`},afterLabel:a=>{const e=d[a.dataIndex];return e.language?`Language: ${e.language}`:""}}}},scales:r?{x:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:a=>n(a,o)}},y:{grid:{display:!1},ticks:{font:{size:11},autoSkip:!1}}}:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:11}}},y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:a=>n(a,o)}}}};return a.jsx(t,{type:"bar",data:c,options:g,title:`${o} by Repository`,enableHorizontalScroll:!r&&e.length>l,maxDataPoints:l})}o.propTypes={data:e.arrayOf(e.shape({name:e.string,label:e.string,value:e.number,language:e.string})).isRequired,metricLabel:e.string,onBarClick:e.func,horizontal:e.bool,maxBars:e.number};export{o as default};
