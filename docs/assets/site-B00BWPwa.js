import{j as e,c as s,f as a,a as l,P as i}from"./site-CYc1wqE9.js";import{r as m}from"./site-B_lBka-i.js";import"./site-DF3nNwgj.js";const o="ComparisonView-module__comparisonView___7Wgyd",r="ComparisonView-module__comparisonGrid___lo8Mf",t="ComparisonView-module__headerRow___FuxVa",n="ComparisonView-module__metricLabel___85ZOX",_="ComparisonView-module__repoHeader___Rhdap",c="ComparisonView-module__repoName___8ZMTK",d="ComparisonView-module__removeButton___3w-Ur",p="ComparisonView-module__metricRow___5cwXu",u="ComparisonView-module__metricValue___PHCB8",y="ComparisonView-module__value___Gm2To",h="ComparisonView-module__percentDiff___1IFV5",b="ComparisonView-module__highest___v7-c0",x="ComparisonView-module__lowest___HPYCH",w="ComparisonView-module__middle___8Bg6w",v="ComparisonView-module__emptyState___YZwIB",j="ComparisonView-module__legend___p-YKs",C="ComparisonView-module__legendItem___8VHqG",N="ComparisonView-module__legendBox___2tF4F",V="ComparisonView-module__legendNote___swlUx";function k({repositories:i,onRemoveRepo:k}){const g=[{key:"stars",label:"Stars",type:"number"},{key:"forks",label:"Forks",type:"number"},{key:"watchers",label:"Watchers",type:"number"},{key:"open_issues",label:"Open Issues",type:"number"},{key:"size_kb",label:"Size (KB)",type:"number"},{key:"commit_history.total_commits",label:"Total Commits",type:"number"},{key:"commit_history.recent_90d",label:"Commits (90d)",type:"number"},{key:"commit_metrics.avg_size",label:"Avg Commit Size",type:"number"},{key:"commit_velocity",label:"Commit Velocity",type:"number",decimals:2},{key:"age_days",label:"Age (days)",type:"number"},{key:"days_since_last_push",label:"Days Since Push",type:"number"},{key:"language",label:"Language",type:"string"},{key:"created_at",label:"Created",type:"date"},{key:"updated_at",label:"Last Updated",type:"date"},{key:"has_readme",label:"Has README",type:"boolean"},{key:"has_license",label:"Has License",type:"boolean"},{key:"has_ci_cd",label:"Has CI/CD",type:"boolean"},{key:"has_tests",label:"Has Tests",type:"boolean"}],f=m.useMemo(()=>0===i.length?[]:g.map(e=>{const s=i.map(s=>{return a=s,e.key.split(".").reduce((e,s)=>e?.[s],a);var a});let a=null,l=null;if("number"===e.type){const e=s.filter(e=>null!=e&&!isNaN(e));e.length>0&&(a=Math.min(...e),l=Math.max(...e))}return{metric:e,values:s,min:a,max:l}}),[i]),R=(e,s,i=0)=>{if(null==e||void 0===e)return"N/A";switch(s){case"number":return l(e,i);case"date":return a(e);case"boolean":return e?"✓":"✗";default:return String(e)}};return 0===i.length?e.jsxs("div",{className:v,children:[e.jsx("p",{children:"No repositories selected for comparison."}),e.jsx("p",{className:"text-muted text-sm",children:"Select 2 or more repositories from the table to compare their metrics."})]}):e.jsxs("div",{className:o,children:[e.jsxs("div",{className:r,children:[e.jsxs("div",{className:t,children:[e.jsx("div",{className:n,children:"Metric"}),i.map((s,a)=>e.jsxs("div",{className:_,children:[e.jsx("div",{className:c,children:s.name}),e.jsx("button",{className:d,onClick:()=>k(s.name),"aria-label":`Remove ${s.name} from comparison`,title:`Remove ${s.name}`,children:"×"})]},s.name))]}),f.map((a,l)=>e.jsxs("div",{className:p,children:[e.jsx("div",{className:n,children:a.metric.label}),a.values.map((l,i)=>{const m=((e,s,a,l)=>"number"!==l||null==e||s===a?"":e===a?b:e===s?x:w)(l,a.min,a.max,a.metric.type),o="number"===a.metric.type&&null!=a.max&&null!=l?s(l,a.max):null;return e.jsxs("div",{className:`${u} ${m}`,children:[e.jsx("div",{className:y,children:R(l,a.metric.type,a.metric.decimals)}),null!==o&&0!==o&&e.jsxs("div",{className:h,children:[o>0?"+":"",o,"%"]})]},i)})]},a.metric.key))]}),e.jsxs("div",{className:j,children:[e.jsxs("div",{className:C,children:[e.jsx("span",{className:`${N} ${b}`}),e.jsx("span",{children:"Highest Value"})]}),e.jsxs("div",{className:C,children:[e.jsx("span",{className:`${N} ${x}`}),e.jsx("span",{children:"Lowest Value"})]}),e.jsx("div",{className:C,children:e.jsx("span",{className:V,children:"Percentage shows difference from maximum value"})})]})]})}k.propTypes={repositories:i.arrayOf(i.object).isRequired,onRemoveRepo:i.func.isRequired};export{k as default};
