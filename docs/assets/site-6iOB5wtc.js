import{j as t}from"./site-DnIXTUhv.js";import{P as e}from"./site-DI9vlx2_.js";import{C as a,g as i}from"./site-DZPD_PyB.js";import"./site-Dp0kJvEn.js";function o({data:e,xAxisLabel:o="Total Commits",yAxisLabel:s="Average Commit Size",sizeLabel:n,onPointClick:r}){if(!e||0===e.length)return t.jsx(a,{type:"scatter",data:{datasets:[]},emptyMessage:"No data available for visualization"});const l=e.some(t=>null!=t.r),d=l?"bubble":"scatter",p={};e.forEach(t=>{const e=t.language||"Unknown";p[e]||(p[e]=[]),p[e].push(t)});const g={datasets:Object.entries(p).map(([t,e])=>{const a=i(t);return{label:t,data:e.map(t=>({x:t.x,y:t.y,r:l?Math.max(4,Math.min(25,(t.r||0)/4)):void 0,name:t.name,language:t.language,rawR:t.r})),backgroundColor:a+"99",borderColor:a,borderWidth:2,pointRadius:l?void 0:7,pointHoverRadius:l?void 0:11,pointHoverBorderWidth:3}})},c={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"nearest",intersect:!1},onClick:(t,e)=>{if(e.length>0&&r){const{datasetIndex:t,index:a}=e[0],i=Object.keys(p)[t],o=p[i][a];r({...o,fullData:o.fullData||o})}},plugins:{legend:{display:Object.keys(p).length>1,position:"top",labels:{padding:12,font:{size:11},usePointStyle:!0,boxWidth:10}},tooltip:{enabled:!0,padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:14},callbacks:{title:t=>t[0]?.raw?.name||"",label:t=>{const e=[`${o}: ${t.parsed.x.toLocaleString()}`,`${s}: ${t.parsed.y.toLocaleString()}`];return n&&null!=t.raw?.rawR&&e.push(`${n}: ${t.raw.rawR.toFixed(1)}`),e},afterLabel:t=>{const e=t.raw?.language;return e?`Language: ${e}`:""}}}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:o,font:{size:12},padding:{top:8}},grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:t=>t>=1e3?`${(t/1e3).toFixed(1)}K`:t}},y:{type:"linear",position:"left",title:{display:!0,text:s,font:{size:12},padding:{bottom:8}},grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:t=>t>=1e3?`${(t/1e3).toFixed(1)}K`:t}}}},b=n?`${s} vs ${o} (size = ${n})`:`${s} vs ${o}`;return t.jsx(a,{type:d,data:g,options:c,title:b,enableHorizontalScroll:!1})}o.propTypes={data:e.arrayOf(e.shape({name:e.string,x:e.number,y:e.number,r:e.number,language:e.string})).isRequired,xAxisLabel:e.string,yAxisLabel:e.string,sizeLabel:e.string,onPointClick:e.func};export{o as default};
