import{j as t}from"./site-BiYgNJqb.js";import{P as e}from"./site-CPTP8xk8.js";import{C as a}from"./site-BjMrR6pg.js";import"./site-DY8k1ES-.js";const o=["#0366d6","#28a745","#6f42c1","#fd8c73","#ffd33d","#ea4a5a","#1b7cd3","#79589f","#f97583","#ffdf5d"];function i({data:e,title:i="Distribution",onSegmentClick:n,doughnut:s=!1,cutout:l=50}){if(!e||0===e.length)return t.jsx(a,{type:"pie",data:{labels:[],datasets:[]},emptyMessage:"No data available for visualization"});const r={labels:e.map(t=>t.name||t.label),datasets:[{data:e.map(t=>t.value),backgroundColor:e.map((t,e)=>o[e%o.length]),borderColor:"#ffffff",borderWidth:2,hoverOffset:4,hoverBorderWidth:3}]},d={responsive:!0,maintainAspectRatio:!1,cutout:s?`${l}%`:0,onClick:(t,a)=>{if(a.length>0&&n){const t=a[0].index,o=e[t];n({...o,fullData:o})}},plugins:{legend:{display:!0,position:"bottom",labels:{padding:16,font:{size:12},usePointStyle:!0,boxWidth:12,boxHeight:12,generateLabels:t=>{const e=t.data.datasets;return t.data.labels.map((t,a)=>({text:`${t} (${(e[0].data[a]/e[0].data.reduce((t,e)=>t+e,0)*100).toFixed(1)}%)`,fillStyle:e[0].backgroundColor[a],hidden:!1,index:a}))}}},tooltip:{callbacks:{label:t=>{const e=t.label||"",a=t.parsed,o=(a/t.dataset.data.reduce((t,e)=>t+e,0)*100).toFixed(1);return`${e}: ${a.toLocaleString()} (${o}%)`}}}},interaction:{mode:"nearest"}};return t.jsx(a,{type:s?"doughnut":"pie",data:r,options:d,title:i,enableHorizontalScroll:!1})}i.propTypes={data:e.arrayOf(e.shape({name:e.string,label:e.string,value:e.number})).isRequired,title:e.string,onSegmentClick:e.func,doughnut:e.bool,cutout:e.number};export{i as default};
