import{j as e}from"./site-BiYgNJqb.js";import{P as t}from"./site-CXKhqcMd.js";import{C as a}from"./site-DlHGYu5w.js";import"./site-DY8k1ES-.js";function o(e,t){return e||0===e?t?.includes("Date")?new Date(e).toLocaleDateString():t?.includes("Size")?`${e.toLocaleString()} changes`:"number"==typeof e?e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString():e:"N/A"}function i({data:t,metricLabel:i="Value",onPointClick:n,lineColor:r="#0366d6",fill:l=!0}){if(!t||0===t.length)return e.jsx(a,{type:"line",data:{labels:[],datasets:[]},emptyMessage:"No data available for visualization"});const s=[...t].sort((e,t)=>e.date&&t.date?new Date(e.date)-new Date(t.date):(e.name||"").localeCompare(t.name||"")),d={labels:s.map(e=>e.name||e.label||""),datasets:[{label:i,data:s.map(e=>e.value),borderColor:r,backgroundColor:l?`${r}33`:"transparent",borderWidth:3,fill:l,tension:.4,pointRadius:6,pointHoverRadius:10,pointBackgroundColor:r,pointBorderColor:"#ffffff",pointBorderWidth:2,pointHoverBackgroundColor:r,pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3}]},c={responsive:!0,maintainAspectRatio:!1,onClick:(e,t)=>{if(t.length>0&&n){const e=t[0].index,a=s[e];n({...a,fullData:a})}},plugins:{legend:{display:!1},tooltip:{enabled:!0,padding:12,titleFont:{size:14},bodyFont:{size:14},callbacks:{label:e=>{const t=e.parsed.y;return`${i}: ${o(t,i)}`},afterLabel:e=>{const t=s[e.dataIndex];return t.date?`Date: ${new Date(t.date).toLocaleDateString()}`:""}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:12},autoSkip:!0,maxTicksLimit:10}},y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:e=>o(e,i)}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return e.jsx(a,{type:"line",data:d,options:c,title:`${i} Over Time`,enableHorizontalScroll:t.length>15,maxDataPoints:15})}i.propTypes={data:t.arrayOf(t.shape({name:t.string,label:t.string,value:t.number,date:t.string})).isRequired,metricLabel:t.string,onPointClick:t.func,lineColor:t.string,fill:t.bool};export{i as default};
